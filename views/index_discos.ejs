<%- include('partials/header_discos.ejs'); -%>
<div class="px-4 py-5 my-5 text-center">
    <h1 class="display-5 fw-bold text-body-emphasis">Los discos de María y Guille</h1>
    <h2 class="display-5 fw-bold"><a href="index.ejs">Ver los libros de María y Guille</a></h2>
    <div class="col-lg-6 mx-auto">
      <p class="lead mb-4">Catálogo Discográfico.</p>
    <!-- Selectores y búsquedas -->
    <div class="search">
        <form action="/filter_discos" method="post" id="filterForm">
      <!-- Selector de autor -->
       <div class="filter">
          <select class="form-select" name="artistas" id="artistas">
            <option selected>Filtrar por artista</option> 
            <% for(let artista of select_artistas){%>
                <option value="<%= artista.artist %>"><%= artista.artist %></option>               
            <% } %>        
          </select>
        
      <!-- Selector de títulos -->
      
          <select class="form-select" name="titulos" id="titulos">
            <option selected>Filtrar por título</option>   
            <% for(let titulo of select_titulos){%>            
                <option value="<%= titulo.title %>"><%= titulo.title %></option>               
            <% } %>        
          </select>

          <button class="btn btn-primary" type="submit">Filtrar</button>
        </div>

    <div class="listado">
        <p class="encabezado_artista">Artista</p>
        <p class="encabezado_titulo">Título</p>
        <p class="encabezado_año">Año</p>
        <p class="encabezado_portada">Portada</p>
    </div>
    <hr>
      <% for(let disco of listItems){%>
                <div class="listado">
                 <p class="listed_author"><%= disco.artist %></p>
                 <p class="listed_title"><%= disco.title %></p>
                 <p class="listed_year"><%= disco.year %></p>     
                </div>
                <hr>
     <% } %>
    </div>
  
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>